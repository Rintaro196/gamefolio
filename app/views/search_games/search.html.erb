<head>
  <title><% content_for(:title, "ゲーム検索") %></title>
</head>
<h1 class="text-white text-4xl text-center my-6">ゲーム検索</h1>

<div class="flex justify-center">
<%= form_with url: search_games_path, method: :get, local: true do |form| %>
  <%= form.label :title, "ゲームタイトル", class: "text-white text-2xl mr-2" %>
  <%= form.text_field :title, class: "input input-bordered input-accent mr-2 w-80 min-w-xs" %>
  <%= form.submit "検索",
    class: "bg-lime-950 text-2xl text-lime-400 border border-lime-400 border-b-4 font-medium relative h-16 px-4 py-2 rounded-md hover:brightness-150" %>
<% end %>
</div>

<% if @game_info.present? %>
  <h2 class="text-lime-400 text-center text-2xl my-4">"<%= @game_title %>"の検索結果一覧</h2>

  <% @game_info.each do |game| %>
  <div class="flex justify-center my-8">
      <div class="rounded-lg border-sloid border-white border-4 bg-gray-950 sm:w-3/5 lg:w-2/5">
        <div class="items-center text-center">
            <h3 class="text-3xl text-lime-400"><%= game["name"] %></h3>

            <% if game["cover"] && game["cover"]["url"] %>
              <img src="<%= game['cover']['url'] %>" alt="<%= game['name'] %> cover">
            <% end %>

            <% if game["genres"].present? %>
              <p class="tetx-white text-lime-400">ジャンル</p>
              <div class="my-2">
                <% game["genres"].each do |genru| %>
                  <div class="badge badge-accent badge-outline"><%= genru["name"] %></div>
                <% end %>
              </div>
            <% end %>

            <% if game["platforms"].present? %>
              <p class="tetx-white text-lime-400">プラットフォーム</p>
              <div class="my-2">
                <% game["platforms"].each do |platform| %>
                  <div class="badge badge badge-primary badge-outline"><%= platform["name"] %></div>
                <% end %>
              </div>
            <% end %>
        </div>
      </div>
    </div>
  <% end %>

<% elsif @game_title.present? %>
  <p xlass="text-center text-white text-2xl">"<%= @game_title %>"の検索結果はありません</p>
<% end %>
